---
import Layout from "../../layouts/Layout.astro";
import MediaLayout from "../../layouts/MediaLayout.astro";
import Timeline from "../../components/Timeline.astro";
import articles from "../../../generated/articles.json";
import achievements from "../../../generated/achievements.json";
import podcasts from "../../../generated/podcasts.json";
import talks from "../../../generated/talks.json";
import { getMediaIcon } from "../../utils/media";
import { sortItems } from "../../utils/sortItems";

const sites = sortItems([
  ...(articles.map((item) => ({
    ...item,
    icon: getMediaIcon("article"),
  })) as DataItem[]),
  ...(achievements.map((item) => ({
    ...item,
    icon: getMediaIcon("achievement"),
  })) as DataItem[]),
  ...(podcasts.map((item) => ({
    ...item,
    icon: getMediaIcon("podcast"),
  })) as DataItem[]),
  ...(talks.map((item) => ({
    ...item,
    icon: getMediaIcon("talk"),
  })) as DataItem[]),
]);
---

<Layout>
  <MediaLayout>
    <Timeline items={sites} />
  </MediaLayout>
</Layout>
